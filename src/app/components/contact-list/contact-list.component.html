<div class="container">
  <div class="row">
    <div class="col-md-12">
      <div class="card-body">
        <h2 class="card-title text-center py-3">Contacts</h2>
        <ul class="text-center list-inline py-3">
          <li class="list-inline-item"><a routerLink="/addContact" class="btn btn-secondary">Ajouter Contact</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>
<div>

<mat-tab-group>
  <mat-tab label="Tous">
    <ng-template matTabContent>
      <table class="mat-elevation-z8" mat-table [dataSource]="dataSource" matSort>
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> #</th>
          <td mat-cell *matCellDef="let row"> {{row.id}} </td>
        </ng-container>
        <ng-container matColumnDef="lastName">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Nom </th>
          <td mat-cell *matCellDef="let row"> {{ row.lastName }}</td>
        </ng-container>
        <ng-container matColumnDef="firstName">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Prénom</th>
          <td mat-cell *matCellDef="let row"> {{ row.firstName}}</td>
        </ng-container>
        <ng-container matColumnDef="address">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Adresse</th>
          <td mat-cell *matCellDef="let row"> {{row.address}} </td>
        </ng-container>
        <ng-container matColumnDef="birthDate">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Date de naissance</th>
          <td mat-cell *matCellDef="let row"> {{row.birthDate | date: 'dd MMM yyyy'}} </td>
        </ng-container>
        <ng-container matColumnDef="isProfessionnal">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Professionnel</th>
          <td mat-cell *matCellDef="let row">
            <a class="glyphicon glyphicon-ok-circle text-success" *ngIf="row.isProfessionnal === 1"></a>
            <a class="glyphicon glyphicon-remove-circle text-danger" *ngIf="row.isProfessionnal === 0"></a>
          </td>
        </ng-container>
        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef> Action</th>
          <td mat-cell *matCellDef="let row;">
            <a class="btn glyphicon glyphicon-pencil text-primary pull-left" (click)="updateContact(row.id)"></a>
            <a class="btn glyphicon glyphicon-remove text-danger pull-right" (click)="deleteContact(row.id)"></a>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;">
        </tr>
      </table>
    </ng-template>
  </mat-tab>

  <!-- Affiche le tableau avec les contacts professionnels -->
    <mat-tab label="Professionnels">
      <ng-template matTabContent>
        <table class="mat-elevation-z8" mat-table [dataSource]="dataSourcePro" matSort>
          <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> #</th>
            <td mat-cell *matCellDef="let row"> {{row.id}} </td>
          </ng-container>
          <ng-container matColumnDef="lastName">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Nom </th>
            <td mat-cell *matCellDef="let row"> {{ row.lastName }}</td>
          </ng-container>
          <ng-container matColumnDef="firstName">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Prénom</th>
            <td mat-cell *matCellDef="let row"> {{ row.firstName}}</td>
          </ng-container>
          <ng-container matColumnDef="address">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Adresse</th>
            <td mat-cell *matCellDef="let row"> {{row.address}} </td>
          </ng-container>
          <ng-container matColumnDef="birthDate">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Date de naissance</th>
            <td mat-cell *matCellDef="let row"> {{row.birthDate | date: 'dd MMM yyyy'}} </td>
          </ng-container>
          <ng-container matColumnDef="isProfessionnal">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Professionnel</th>
            <td mat-cell *matCellDef="let row">
              <a class="glyphicon glyphicon-ok-circle text-success" *ngIf="row.isProfessionnal === 1" [hidden]="row.isProfessionnal !==1 "></a>
              <a class="glyphicon glyphicon-remove-circle text-danger" *ngIf="row.isProfessionnal === 0"></a>
            </td>
          </ng-container>
          <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef> Action</th>
            <td mat-cell *matCellDef="let row;">
              <a class="btn glyphicon glyphicon-pencil text-primary pull-left" (click)="updateContact(row.id)"></a>
              <a class="btn glyphicon glyphicon-remove text-danger pull-right" (click)="deleteContact(row.id)"></a>
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;">
          </tr>
        </table>
      </ng-template>
    </mat-tab>

  <!-- Affiche le tableau avec les contacts non-professionnels -->
    <mat-tab label="Non Professionnels">
      <ng-template matTabContent>
        <table class="mat-elevation-z8" mat-table [dataSource]="dataSourceNonPro" matSort>
          <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> #</th>
            <td mat-cell *matCellDef="let row"> {{row.id}} </td>
          </ng-container>
          <ng-container matColumnDef="lastName">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Nom </th>
            <td mat-cell *matCellDef="let row"> {{ row.lastName }}</td>
          </ng-container>
          <ng-container matColumnDef="firstName">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Prénom</th>
            <td mat-cell *matCellDef="let row"> {{ row.firstName}}</td>
          </ng-container>
          <ng-container matColumnDef="address">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Adresse</th>
            <td mat-cell *matCellDef="let row"> {{row.address}} </td>
          </ng-container>
          <ng-container matColumnDef="birthDate">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Date de naissance</th>
            <td mat-cell *matCellDef="let row"> {{row.birthDate | date: 'dd MMM yyyy'}} </td>
          </ng-container>
          <ng-container matColumnDef="isProfessionnal">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Professionnel</th>
            <td mat-cell *matCellDef="let row">
              <a class="glyphicon glyphicon-ok-circle text-success" *ngIf="row.isProfessionnal === 1"></a>
              <a class="glyphicon glyphicon-remove-circle text-danger" *ngIf="row.isProfessionnal === 0"></a>
            </td>
          </ng-container>
          <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef> Action</th>
            <td mat-cell *matCellDef="let row;">
              <a class="btn glyphicon glyphicon-pencil text-primary pull-left" (click)="updateContact(row.id)"></a>
              <a class="btn glyphicon glyphicon-remove text-danger pull-right" (click)="deleteContact(row.id)"></a>
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;">
          </tr>
        </table>
      </ng-template>

    </mat-tab>
</mat-tab-group>
  <mat-paginator #paginator [pageSize]="pageSize" [pageSizeOptions]="[5, 10, 20]" [showFirstLastButtons]="true" [length]="totalSize"
                 [pageIndex]="currentPage" (page)="pageEvent = handlePage($event)">
  </mat-paginator>
</div>
